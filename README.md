# TASON

TASON (Typed Another Scriptable Object Notation) 是一种类型化的对象表示语法，可以用于序列化和反序列化数据。


## 特性

1. TASON是JSON5的超集，对于熟悉JSON/JSON5/JavaScript对象字面量语法的开发者来说，使用起来非常方便。
2. TASON支持带类型序列化，可以序列化任何类型的对象，包括自定义类型，语法和使用数据库管理工具查看BSON时所用的格式类似。
3. TASON是语言无关的，TASON类型的具体实现取决于所使用的语言

## 基本类型

涵盖了JSON5中的基本类型

* null
* boolean
* number，64位浮点数，支持十进制、十六进制、八进制、二进制和科学计数法，以及NaN、Infinity等特殊值
* string，支持单引号和双引号，支持Unicode字符，支持转义字符
* array，可以有尾随逗号
* object，可以有尾随逗号，属性名可以是标识符或者字符串

## TASON类型实例

TASON类型包括两大类：标量类型(Scalar)和对象类型(Object)。

### 标量类型

类似GraphQL中的Scalar，代表了一种不会被细分的基元类型，比如各种整数、浮点数、日期时间、正则表达式、UUID等。

* 标量类型使用代表值的字符串进行构造，如`RegExp("/^[A-Z0-9_]+$/i")`，`Int64("0x1234ABCDEF")`
* 可以创建自己的标量类型，并且标量类型不受类型的复杂程度限制。例如可以创建一个名为`JSON`的标量类型，使用`JSON.stringify()`和`JSON.parse()`进行序列化和反序列化一整个字符串
* 默认情况下，标量类型对应的类具有一个构造函数，接受一个代表值的字符串作为参数

### 对象类型

对象类型代表一种强类型化的对象，比如各种结构体、类、字典等。

* 对象类型使用对象字面量进行构造，如`Person({ name: "John", 'age': 30 })`
* 可以创建自己的对象类型。有两种常见的实现方式：
  * 类拥有一个无参构造函数，并在创建后再对对应的属性进行赋值
  * 对于动态语言如js来说，为了简化使用，对应的类的构造函数可以接受一个对象字面量作为参数，其中对象的每一个属性都是这个类的公共可写属性名
  * 在C#中record类型可以直接注册为对象类型，因为它通常具有类初始化器、复制构造函数等简化对象创建的方法
